(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const g of a.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&n(g)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const r=window.okxwallet;function c(e,t="info"){const s=document.getElementById("toastContainer");if(!s)return;const n=document.createElement("div");n.className=`toast ${t}`;const o=t==="success"?"fa-check-circle":t==="error"?"fa-exclamation-circle":t==="warning"?"fa-exclamation-triangle":"fa-info-circle";n.innerHTML=`
                <i class="fas ${o}"></i>
                <span>${e}</span>
            `,s.appendChild(n),setTimeout(()=>{n.style.animation="slideInRight 0.3s ease-out reverse",setTimeout(()=>n.remove(),300)},3e3)}function m(e){navigator.clipboard.writeText(e).then(()=>{c("Copied to clipboard!","success")}).catch(()=>{c("Failed to copy","error")})}function y(e,t=null){const s=document.getElementById("walletStatusDot"),n=document.getElementById("walletStatus"),o=document.getElementById("networkBadge"),a=document.getElementById("copyAccountBtn");!s||!n||!o||!a||(e?(s.className="status-dot connected",n.textContent="Wallet Connected",o.style.display="inline-flex",t&&(a.style.display="block")):(s.className="status-dot disconnected",n.textContent="Wallet Not Connected",o.style.display="none",a.style.display="none"))}function w(){return typeof window.okxwallet<"u"?(console.log("OKX wallet is installed"),c("OKX Wallet detected!","success"),!0):(c("OKX Wallet not found. Please install it.","error"),!1)}let i=[];window.addEventListener("load",async()=>{if(w())try{const e=await r.request({method:"eth_chainId"});console.log("Chain ID:",e);const t=document.querySelector(".chainId");t&&(t.textContent=e);const s=p(e),n=document.getElementById("networkName");n&&(n.textContent=s),r.on("chainChanged",x),r.on("accountsChanged",h);const o=await r.request({method:"eth_accounts"});o&&o.length>0&&h(o)}catch(e){console.error("Error during initialization:",e)}});function p(e){return{"0x1":"Ethereum Mainnet","0x42":"Optimism Kovan","0xaa36a7":"Sepolia","0x5":"Goerli","0x89":"Polygon"}[e]||`Chain ${e}`}function x(e){console.log("New chain ID:",e);const t=document.querySelector(".chainId");t&&(t.textContent=e);const s=p(e),n=document.getElementById("networkName");n&&(n.textContent=s),c(`Switched to ${s}`,"info")}function h(e){console.log("Account changed:",e),i=e;const t=document.querySelector(".account");if(t)if(e.length>0){const s=e[0],n=`${s.substring(0,6)}...${s.substring(38)}`;t.textContent=n,t.parentElement?.classList.add("has-content"),y(!0,s),c("Account changed","info")}else t.textContent="No account connected",t.parentElement?.classList.remove("has-content"),y(!1),c("Wallet disconnected","info")}const l=document.querySelector(".connectEthereumButton"),f=document.querySelector(".switchChainButton"),d=document.querySelector(".signTransactionButton"),u=document.querySelector(".signMessageButton");l?.addEventListener("click",async()=>{try{l.innerHTML='<span class="spinner"></span> Connecting...',l.disabled=!0,i=await r.request({method:"eth_requestAccounts"}),h(i),c("Wallet connected successfully!","success"),l.innerHTML='<i class="fas fa-check"></i> Connected',setTimeout(()=>{l.innerHTML='<i class="fas fa-plug"></i> Connect to Ethereum',l.disabled=!1},2e3)}catch(e){console.error("Connection error:",e),c("Failed to connect wallet","error"),l.disabled=!1,l.innerHTML='<i class="fas fa-plug"></i> Connect to Ethereum'}});f?.addEventListener("click",async()=>{try{f.innerHTML='<span class="spinner"></span> Switching...',f.disabled=!0;const t=await r.request({method:"eth_chainId"})==="0x42"?"0xaa36a7":"0x42";await r.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){e.code===4902?c("Network not added to wallet","warning"):(console.error("Switch error:",e),c("Failed to switch network","error"))}finally{f.disabled=!1,f.innerHTML='<i class="fas fa-random"></i> Switch Network'}});d?.addEventListener("click",async()=>{if(i.length===0){c("Please connect your wallet first","error");return}try{d.innerHTML='<span class="spinner"></span> Sending...',d.disabled=!0;const e=await r.request({method:"eth_sendTransaction",params:[{from:i[0],to:"0x5CB8896Db7Bf13DE6A6EA362866288e577e4F6C5",value:"0x1BC16D674EC80000",gasPrice:"0x09184e72a000",gas:"0x2710"}]});console.log("Transaction hash:",e);const t=`${e.substring(0,10)}...${e.substring(e.length-8)}`,s=document.querySelector(".txHash");s&&(s.textContent=t,s.parentElement?.classList.add("has-content"));const n=document.getElementById("copyTxBtn");n&&(n.style.display="block"),c("Transaction sent successfully!","success"),d.innerHTML='<i class="fas fa-check"></i> Sent',setTimeout(()=>{d.innerHTML='<i class="fas fa-arrow-right"></i> Send Transaction',d.disabled=!1},2e3)}catch(e){console.error("Transaction error:",e),c("Transaction failed","error"),d.disabled=!1,d.innerHTML='<i class="fas fa-arrow-right"></i> Send Transaction'}});u?.addEventListener("click",async()=>{if(i.length===0){c("Please connect your wallet first","error");return}try{u.innerHTML='<span class="spinner"></span> Signing...',u.disabled=!0;const e=await r.request({method:"personal_sign",params:[i[0],"0xdeadbeaf"]});console.log("Signature:",e);const t=`${e.substring(0,10)}...${e.substring(e.length-8)}`,s=document.querySelector(".sigMsg");s&&(s.textContent=t,s.parentElement?.classList.add("has-content"));const n=document.getElementById("copySigBtn");n&&(n.style.display="block"),c("Message signed successfully!","success"),u.innerHTML='<i class="fas fa-check"></i> Signed',setTimeout(()=>{u.innerHTML='<i class="fas fa-pen-fancy"></i> Sign Message',u.disabled=!1},2e3)}catch(e){console.error("Signing error:",e),c("Signing failed","error"),u.disabled=!1,u.innerHTML='<i class="fas fa-pen-fancy"></i> Sign Message'}});document.getElementById("copyAccountBtn")?.addEventListener("click",()=>{i.length>0&&m(i[0])});document.getElementById("copyTxBtn")?.addEventListener("click",()=>{const e=document.querySelector(".txHash")?.textContent;e&&e!=="No transaction yet"&&m(e)});document.getElementById("copySigBtn")?.addEventListener("click",()=>{const e=document.querySelector(".sigMsg")?.textContent;e&&e!=="No signature yet"&&m(e)});
